@import "compass";

$blue-link: #2571AD;
$button-text-color: #34404F;
$fixed-width: 980px;
$gray: #CECECE;
$gray-dark: #C7D0DA;
$gray-light: #F4F4F4;
$navigation-width: 200px;
$red: #8F0920;

$content-width: ($fixed-width - $navigation-width) - 2px;

/* ---------- Base ---------- */

body {
	color: #666;
	font: 12px/1.5em 'Helvetica', Arial, sans-serif;
}

a, a:visited, a:active {
	color: $blue-link;
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus .opens-new-window-accessible {
	clip: none;
	position: fixed;
	text-indent: 0;
}

.ie6 img {
	position: static;
}

#navigation h1, #skip-to-content, #toggleFluid span, .opens-new-window-accessible {
	clip: rect(0 0 0 0);
	position: absolute;
	text-indent: -9999em;
}

#banner:after, #content:after, #footer, .contacts-portlet .members-container:after, .portlet-msg-info:after, .portlet-toolbar:after, .so-portlet-activities .activity-item:after, .taglib-header:after, .tasks-portlet:after {
	clear: both;
	content: "";
	display: block;
}

.lfr-has-sidebar #main-content {
	padding-left: 0;
}

#banner #heading, #content, #footer {
	margin: 0 auto;
	width: 960px;
}

#content {
	width: 760px;
	zoom: 1;
}

#footer p {
	padding-left: 210px;
}

#content div#column-1.portlet-column-only .portlet-column-content {
	background-color: #FFF;
	margin-bottom: -1px;
	margin-right: -1px;
}

/* ---------- Heading ---------- */

#banner {
	border-bottom: 1px solid $gray-dark;
	position: relative;
	zoom: 1;

	.logo {
		display: block;
		zoom: 0;

		img {
			max-height: 64px;
			width: auto;
		}
	}

	.company-title {
		float: left;
		padding: 5px 10px 10px;
	}

	.community-title {
		float: left;
		font-size: 2.2em;
		font-weight: bold;
		line-height: 1.5em;
		overflow: hidden;
		padding: 22px 20px 0;
		text-overflow: ellipsis;
		width: 50%;

		a {
			color: $red;
		}
	}

	.member-button a {
		color: #2571AD;
		font-size: 0.4em;
	}

	h3.page-title {
		display: none;
	}
}

#heading {
	height: 79px;
}

#heading, #footer {
	margin: 0 auto;
	position: relative;
}

#page-search, #sign-in {
	position: absolute;
	right: 0;
}

#page-search {
	top: 22px;

	input {
		float: left;
		margin-left: 3px;
	}

	input[type="image"], select {
		display: none;
	}
}

#sign-in {
	right: 30px;
	top: 30px;
}

/* ---------- Layout ---------- */

#content {
	padding-left: 200px;
	position: relative;

	#so-context {
		border: 1px solid $gray-dark;
		border-width: 0 1px 1px 0;
		position: relative;
		zoom: 1;
	}

	.portlet-layout {
		.portlet-column-only {
			background: #FFF;
			border-right: 1px solid $gray-dark;
			position: relative;
			z-index: 2;

			.portlet-column-content {
				border-bottom: 1px solid $gray-dark;
			}
		}

		.portlet-column:before {
			bottom: 0;
			content: "";
			border-right: 1px solid $gray-dark;
			position: absolute;
			top: 0;
		}

		.portlet-column-content {
			padding: 0;
		}
	}

	#columns-1 .portlet-column-only .portlet-column-content {
		border-bottom-width: 0;
	}
}

/* ---------- Navigation ---------- */

#navigation {
	ul, li {
		list-style: none;
		margin: 0;
		padding: 0;
	}

	li {
		a {
			border: 1px solid transparent;
			border-width: 1px 0;
			display: block;
			padding: 7px 14px;
		}

		a:hover, &.selected {
			background: $gray-light;
			text-decoration: none;
		}

		a:hover {
			border-color: #F4F3F3 transparent #D9D8D8;
		}

		&.selected {
			border-left: 2px solid $red;
		}

		&.selected a {
			color: $red;
			font-weight: bold;
		}
	}

	.child-menu {
		display: none;
	}
}


/* ---------- Portlets ---------- */

.portlet {
	border-bottom: 1px solid $gray-dark;
	margin-bottom: -1px;
	position: relative;

	.portlet-content {
		padding: 0 10px 10px;
	}

	.portlet-topper {
		color: #929292;
		padding: 3px 5px;

		.portlet-title .icon, .portlet-topper-toolbar {
			display: none;
		}

		.portlet-topper-toolbar {
			right: 0;
			top: -2px;
		}
	}
}

/* Portlet Controls */

.controls-hidden .delete-tab {
	display: none;
}

.controls-visible .portlet .portlet-topper .portlet-topper-toolbar {
	display: block;
}

/* ---------- Sidebar ---------- */

#so-sidebar .search input[type=image], .aui-dialog .sidebar {
	display: none;
}

#wrapper .sidebar h2 {
	border: none;
	font-size: 12px;
	margin: 1em 0;
	padding: 0;
}

/* User Detail Structure */

.so-user-detail {
	display: table-cell;
	line-height: 0;
	padding: 10px;

	.profile-image, .profile-name {
		display: inline-block;
		vertical-align: middle;
	}

	.profile-image {
		height: 45px;
		margin-right: 2px;
		overflow: hidden;
		width: 45px;

		img {
			max-width: 45px;
			min-height: 45px;
		}
	}

	.profile-name {
		font-weight: bold;
		line-height: 1.25em;
		overflow: hidden;
		text-overflow: ellipsis;
		width: 128px;
	}
}

#so-sidebar {
	border-right: 1px solid $gray-dark;
	left: 0;
	padding-bottom: 2.5em;
	position: absolute;
	top: 0;
	width: 200px;
	z-index: 1;

	.portlet-msg, .portlet-msg-alert, .portlet-msg-error, .portlet-msg-info, .portlet-msg-success {
		margin: 0 0 10px;
	}

	.user-profile-detail .profile-image {
		line-height: 0;
		padding: 0 0 10px;

		img {
			max-width: 200px;
			min-width: 200px;
		}
	}

	hr {
		border-top: 1px solid $gray-dark;
		border-width: 1px 0 0;
		margin: 10px 0 3px;
	}

	h3 {
		color: #8E9AA8;
		font-size: 1em;
		margin: 0;
		padding: 0 7px;
	}

	.portlet {
		border-bottom-width: 0;
	}

	.portlet-topper {
		display: none;
	}

	.sites-tabs select {
		width: 183px;
	}

	.lfr-contact-grid-item {
		width: auto;

		.lfr-contact-name {
			color: $blue-link;
		}

		.lfr-contact-name, .lfr-contact-job-title {
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}

	.so-portlet-sites {
		.search {
			float: none;

			.search-input {
				width: 151px;
			}
		}

		.portlet-content {
			padding: 5px 10px 0 5px;
		}

		ul.site-list, ul.site-list li {
			background-color: transparent;
			border: none;
			margin: 0;
			padding: 0;
		}

		ul.site-list li {
			@include border-radius(0);
			background-position: 5px 3px;
			padding-right: 16px;
			position: relative;

			.name, .name a, .favorite, .unfavorite {
				display: block;
			}

			.name a {
				margin: -3px -3px -3px -25px;
				max-height: 2.75em;
				overflow: hidden;
				text-overflow: ellipsis;
				word-wrap: break-word;
			}

			.favorite, .unfavorite {
				position: absolute;
				right: 0;
				top: 3px;
			}

			&:hover {
				background-color: $gray-light;
			}
		}

		ul.site-list {
			margin-bottom: 1em;

			.empty, .more, .name, .name a {
				padding: 3px 3px 3px 25px;
			}
		}

		.aui-toolbar {
			white-space: normal;
		}
	}
}

.so-portlet-sites-dialog {
	.aui-button-holder {
		margin: 0 -10px -10px;
	}

	.template-details {
		background: $gray-light;
		border: 1px solid #C0C2C5;
		padding: 1em;

		h3.name, ul.pages {
			margin: 0;
		}

		ul.pages li {
			float: left;
			list-style: none;
			padding-right: 1em;
		}
	}

	.site-customization {
		.set-label {
			font-weight: bold;
		}

		.tip {
			margin-bottom: 1em;
		}

		.page {
			display: block;
			float: left;
			width: 125px;
		}
	}

	.aui-button-holder {
		background: #EEE;
		border-top: 1px solid #BFBFBF;
		margin: 1em 0;
		padding: 0.5em;
	}
}

/* ---------- Profile ---------- */

.user-sites-title, .user-tags-title {
	color: #929292;
	font-weight: bold;
	padding: 6px 0 0;
}

.user-sites, .user-sites li, .user-tags, .user-tags li {
	list-style: none;
	margin: 0;
	padding: 0;
}

.user-sites, .user-tags {
	border-bottom: 1px solid $gray-dark;
	margin: 0 -10px;
	padding: 0 10px 6px;
}

.user-sites li {
	overflow: hidden;
	text-overflow: ellipsis;
	width: 200px;
}

.user-tags li {
	display: inline;

	a {
		background: $blue-link;
		color: #EEE;
		display: inline-block;
		margin: 4px;
		padding: 3px 6px;
	}
}

.profile-header {
	border: 1px solid $gray-dark;
	border-width: 0 0 1px 1px;
	padding: 10px;

	h1 {
		color: $red;
		margin: 0 0 5px;
		padding: 0;
	}

	.user-email-address, .user-job-title {
		color: #777;
		display: block;
		font-size: 14px;
		font-weight: bold;
		line-height: 1em;
		margin: 0 0 5px;
	}

	.user-email-address {
		font-size: 12px;
		font-weight: normal;
	}
}

.profile-page .portlet-msg-info {
	background-color: #FFF;
	border-color: #E7E7E7;
	margin: 5px 10px;
}

/* ---------- Footer ---------- */

#footer {
	padding: 30px 10px;
}

/* ---------- Forms ---------- */

#page-search input[type=text], #so-sidebar .search input[type=text], .aui-search-bar input[type=text], .so-search-bar input.search-field {
	background-image: url(../images/custom/so_search_icon.png);
	background-position: right 0;
	background-repeat: no-repeat;
	padding-right: 25px;
}

input[type=password], input[type=text], textarea, .aui-field-select select, .aui-textboxlistentry-holder, .so-portlet-invite-members .search, .microblogs-portlet .autocomplete {
	background: #FFF;
	border: 1px solid $gray-dark;
	padding: 6px 5px;

	&:active, &:focus, &:hover, &.focus {
		background-color: #FFFFF6;
		border-color: $blue-link;
	}

	input[type=text] {
		background: transparent;
		border-width: 0;
	}
}

button, input[type=button], input[type=submit], input[type=reset], #toggleFluid, .aui-button-disabled button, .aui-button-disabled button:hover, .aui-button-disabled button:focus, .aui-button-disabled input[type], .aui-button-disabled input[type]:hover, .aui-button-disabled input[type]:focus, .aui-dialog-hd, .aui-panel-hd, .aui-state-default, .aui-tabview-list, .aui-tab, .aui-tab-content, .contacts-portlet .social-relations a:hover, .edit-controls a:hover, .lfr-header-row .aui-button-input, .lfr-header-row .aui-buttonitem-content, .lfr-header-row .lfr-actions.lfr-extended, .lfr-header-row .lfr-search-combobox, .results-header th, .lfr-actions.lfr-extended, .invite-members, .portlet-document-library .select-documents, .portlet-document-library-display .select-documents, .portlet-wiki .top-links-nodes .top-link-node a.node-current, .tasks-dialog .control a.taglib-icon, .thread-controls a:hover, .top-links-navigation a:hover {
	background: #E9E8E8;
	border: 1px solid $gray;
	text-shadow: none;
}

input[type=button], input[type=reset], input[type=submit], .aui-state-hover, .contacts-portlet .social-relations a, .edit-controls a:hover, .invite-members:hover, .lfr-actions.lfr-extended, .thread-controls a:hover, .tasks-dialog .control a.taglib-icon, .top-links-navigation a:hover {
	&:hover {
		background: #EEE;
		border-color: #AAA;
		color: #5A5A5A;
	}
}

.lfr-label {
	color: #999;
	font-size: 11px;
	font-weight: bold;
	text-align: right;
	vertical-align: top;
}

.aui-field-select {
	display: inline-block;

	.aui-field-content {
		margin: 0;
	}

	select {
		padding: 4px 5px;
	}
}

.aui-buttonitem-content {
	line-height: 1.5em;
	padding: 3px 2px;
}

.firefox .aui-buttonitem-content {
	padding: 3px 0;
}

.aui-panel-hd button, .aui-panel-hd .aui-button, .aui-panel-hd .aui-state-default, .aui-textboxlistentry-holder .aui-field-input-text, .microblogs-portlet .autocomplete input[type=text] {
	border-color: transparent;
}

.aui-form-validator-error-container .aui-field-element {
	padding-right: 30px;
}

.aui-toolbar {
	.aui-toolbar-item {
		border-width: 1px 0 1px 1px;
	}

	.aui-toolbar-last {
		border-right-width: 1px;
	}
}

.aui-dialog-content, .aui-underlay-content {
	border-width: 0;
	background-color: #F9F9F9;
}

.aui-dialog-hd, .aui-panel-hd {
	border-width: 0;
}

.aui-dialog-content {
	padding: 0;

	.aui-panel-bd {
		padding: 10px;
	}
}

.aui-form-validator-stack-error {
	background: transparent url(../images/messages/error.png) no-repeat;
	height: 16px;
	position: absolute;
	right: 4px;
	top: 6px;
	width: 16px;
	z-index: 1;
}

.aui-form-validator-error-container .aui-field-element {
	padding-right: 0;
}

.aui-form-validator-message {
	background-color: rgba(51, 51, 51, .8);
	right: 0;
	width: 200px;
}

.results-row.alt td {
	border-width: 1px;
}

#toggleFluid, .so-layout-fluid-ad #toggleFluid {
	background-image: url(../images/custom/so_toggle_button_bg.png);
	background-position: 8px 50%;
	background-repeat: no-repeat;
	display: block;
	height: 25px;
	position: absolute;
	right: 10px;
	top: 22px;
	width: 60px;
	z-index: 1;
}

.so-layout-fluid #toggleFluid {
	background-position: -50px 50%;
}

.so-layout-fluid-ad #toggleFluid {
	background-color: #CCC;
}

.rtl .aui-toolbar-content, .rtl .contacts-portlet .toolbar .toolbar-content, .rtl .portlet-layout, .rtl .toolbar {
	direction: ltr;
}

.rtl .contacts-portlet .toolbar .toolbar-content .aui-column {
	float: left;
}

.rtl .contacts-portlet .toolbar .toolbar-content .aui-column-content, .rtl .portlet-layout .portlet-column .portlet-content, .rtl .toolbar .aui-toolbar-content {
	direction: rtl;
}

/* ---------- Portal Tool Tips ---------- */

.portal-tool-tip {
	font-size: 1.2em;
}

.controls-visible .portlet-borderless-container {
	min-height: 20px;
}

/* ---------- Tabs ---------- */

.aui-tabview-list {
	padding: 0;

	.aui-tab:first-child, .first, .first .aui-tab-content {
		border-left-width: 0;
	}

	.aui-tab-content {
		border-width: 1px 1px 1px 0;
		margin: -1px 0;
	}

	.aui-tab-label, .aui-tab-label a {
		&:active, &:hover, &:normal, &:visited {
			text-decoration: none;
		}
	}

	.aui-tab-label, .aui-tab-content .aui-tab-label, .aui-tab-content:hover .aui-tab-label {
		color: #5A5A5A;
		font-size: .95em;
		font-weight: bold;
		padding: 3px 12px 2px;
		text-shadow: none;
	}

	.aui-tab-active {
		.aui-tab-content, .aui-tab-content:hover {
			background: #FFF;
			border-color: $gray $gray #FFF;

			.aui-tab-label {
				color: #5A5A5A;
				text-shadow: none;
			}
		 }
	}
}

/* ---------- Autocomplete ---------- */

.ui-autocomplete-even {
	background: #FFF;
}

.ui-autocomplete-odd {
	background: #F0F5F7;
}

.ui-autocomplete-over {
	background: #E9E9FD;
}

.ui-autocomplete-results {
	border-color: transparent #DEDEDE #DEDEDE #BFBFBF;
	font-size: 1.2em;
}

.ui-autocomplete-results li {
	padding: 5px;
}

/* ---------- Detail column ---------- */

.detail-column {
	display: none;
}

/* ---------- Dynamic Uploader ---------- */

.lfr-upload-container .upload-error .error-message {
	background-color: #FDD;
	padding-left: 5px;
}

/* ---------- Headings ---------- */

.taglib-header {
	border: none;
	margin: 0;

	.header-back-to a {
		padding: 5px 10px;
	}
}

/* ---------- Messages ---------- */

.portlet-msg, .portlet-msg-alert, .portlet-msg-error, .portlet-msg-info, .portlet-msg-success {
	border-radius: 4px;
	margin: 4px;
}

.portlet-msg-info {
	margin-top: 0;
}

.ie6 .portlet-msg-success, .ie6 .portlet-msg-error {
	height: 1px;
}

/* ---------- Panel ---------- */

.aui-panel-hd-text {
	font-size: 12px;
	font-weight: bold;
}

/* ---------- Ratings ---------- */

.ie6 .taglib-ratings.stars {
	width: 100%;
}

.ie6 .taglib-ratings .aui-rating {
	width: 110px;
}

/* ---------- Search Iterator ---------- */

.taglib-search-iterator {
	 .result-title img {
		margin-right: .5em;
	}

	.result-data, .result-description {
		color: #777;
		font-size: 10px;
	}

	.result-data span {
		margin-right: 1em;
		white-space: nowrap;
	}

	.result-tags {
		background: url(../images/custom/so_tag_small.png) no-repeat 0 3px;
		color: #777;
		font-size: 10px;
		padding-left: 15px;

		span {
			float: left;
			font-size: 0;
			opacity: 0;
			text-indent: -9999em;
		}
	}
}

/* ---------- Taglib ---------- */

.taglib-icon .taglib-text {
	text-decoration: none;
}

/* ---------- Portlet ---------- */

/* Dockbar */

.dockbar {
	background-image: url(../images/custom/so_dockbar_bg.png);
	background-color: #EAEAEA;
	background-position: bottom left;
	border-bottom-color: #CDCDCD;

	.so-portlet-dockbar-notifications .menu-button .notification-count {
		background: #0070BA;
	}

	.user-avatar {
		height: 28px;
		overflow-y: hidden;
	}
}

.page-customization-bar {
	font-size: 12px;
	font-weight: normal;
	padding: 8px 20px 3px;
	text-align: center;
	text-shadow: -1px -1px #333;
	@include background-image(linear-gradient(top, #803600, #C26E00));
	@include box-shadow(1px 2px 6px -2px #000 inset);
}

/*  Activities Portlet  */

.so-portlet-activities {
	.portlet-title {
		color: $red;
		font-size: 1.55em;
		font-weight: normal;
		margin-top: .5em;
		padding: 0 .25em .70em;
	}

	h3 {
		font-weight: normal;
		margin: 1em 0 0;
	}

	.activity-item {
		border-bottom: 1px solid #E7E7E7;
		padding: 1em;
	}

	.activity-body {
		font-size: .95em;
	}

	.user-portrait .icon {
		bottom: -4px;
		left: -4px;
	}

	.user-portrait, .user-portrait .avatar {
		height: 45px;
		width: 45px;
	}

	.user-portrait .avatar img {
		max-width: 45px;
	}

	.activity-data {
		padding-left: 10px;
	}

	a.group {
		color: $red;
	}
}

.profile-page .so-portlet-activities {
	.portlet-title, .portrait-social-activities h3 {
		text-align: right;
	}

	.portlet-title {
		color: #666;
		font-size: 1.5em;
		font-weight: normal;
		margin-top: .25em;
		width: 115px;
	}

	.portrait-social-activities h3 {
		font-size: 1em;
		margin: .5em 0 1em;
		width: 110px;
	}

	.user-portrait {
		left: 65px;
	}

	.activity-data {
		margin-left: 110px;
	}
}

/* Asset Publisher */

.ie6 .portlet-asset-publisher .asset-metadata {
	display: none;
}

/* Blogs */

.portlet-blogs {
	.portlet-borderless-container .portlet-body {
		padding: 10px;
	}

	.portlet-body {
		overflow-x: hidden;
	}

	.portlet-msg-success {
		border-width: 0;
		margin: -10px -10px 10px;
	}

	.search-form {
		background: $gray-light;
		float: none;
		margin: -10px -10px 10px -9px;
		padding: 5px;

		.aui-search-bar {
			float: right;
		}
	}

	div.taglib-header {
		position: relative;
	}

	h1.header-title, #blogsCommentsPanelContainer, #_33_fm1 .aui-form, .entry {
		margin: 0 auto;
		max-width: 640px;
	}

	h1.header-title, .entry-title h2 {
		font-size: 1.5em;
		font-weight: normal;
		line-height: 1em;
	}

	h1.header-title {
		font-size: 2em;
		margin-top: 2em;
	}

	.entry {
		position: relative;
		width: 512px;
	}

	.entry-date, .entry-title h2 {
		margin: 0 0 .5em;
	}

	.lfr-meta-actions {
		background-color: rgba(255, 255, 255, .8);
		margin: 0;
		padding: 4px;
		position: absolute;
		right: 0;
		top: 0;
	}

	#_33_fm .aui-fieldset {
		width: 100%;
	}

	.lfr-discussion-details {
		margin-right: auto;
		padding-left: 55px;
		width: auto;
	}

	.lfr-discussion-form-reply {
		background-color: #EEE;
	}

	.lfr-discussion-details-content, .lfr-discussion-form-reply {
		padding: 0;
		position: relative;

		.user-name {
			text-align: left;
			text-decoration: none;
		}

		.user-name, .user-profile-image {
			display: inline-block;
		}

		.user-profile-image {
			float: none;
			position: relative;

			img {
				left: -56px;
				position: absolute;
			}
		}
	}

	.lfr-discussion-form-reply .user-profile-image img {
		left: 0;
		position: relative;
	}

	.lfr-discussion-body-content {
		margin-left: 55px;
	}

	.lfr-discussion-body {
		clear: both;
		float: none;
	}

	.aui-thumbrating-content {
		position: absolute;
		right: 0;
		top: 2px;
	}

	.user-details {
		display: none;
	}
}

/* Blogs Aggregator */

.portlet-blogs-aggregator {
	.entry-author, .entry-date {
		background-image: none;
		border-right-width: 0;
		margin-right: 4px;
		padding: 0;
	}

	.abstract, .entry-categories, .entry-tags {
		display: none;
	}

	.comments {
		display: inline;
		margin: .5em 0;
	}

	.comments a {
		white-space: nowrap;
	}
}

/* Bookmarks */

.portlet-bookmarks {
	.control-wrapper {
		text-align: right;

		a {
			background: url(../images/arrows/01_plus.png) no-repeat scroll 100% 50%;
			font-size: 11px;
			padding-right: 16px;
		}
	}

	#_28_bookmarksEntriesSearchContainer .results-header {
		display: none;
	}
}

/* Breadcrumb */

.breadcrumbs-horizontal {
	border-bottom: 1px solid $gray;
	margin: 0px;

	li {
		background: url(../images/custom/so_breadcrumbs.png) no-repeat scroll 100% 50% transparent;
		max-width: 50%;

		a {
			border-bottom: 1px solid $gray;
			color: #34404F;
			display: inline-block;
			font-weight: bold;
			margin-bottom: -1px;
			padding: 7px 20px 7px 5px;

			&:hover {
				text-decoration: none;
			}
		}

		&.first {
			padding-left: 10px;
		}

		&.last {
			background-image: none;
		}
	}
}

/* Calendar */

.portlet-calendar {
	.calendar-container, .calendar-container .taglib-calendar, .calendar-day {
		float: none;
	}

	.aui-tabview-list {
		border-left-color: $gray-dark;
		border-width: 0 0 1px 1px;
		margin-bottom: 0;
	}

	.calendar-container, .calendar-container .day-text {
		background: transparent none;
		border: none;
	}

	.aui-field-wrapper, .aui-field .aui-field-content {
		padding: 0 10px;
	}

	.calendar-container {
		border: 1px solid $gray-dark;
		border-width: 0 1px;
		width: auto;

		.calendar-day {
			border-bottom: 1px solid $gray-dark;
			width: auto;
		}

		.day-text {
			color: #333;
		}

		.taglib-calendar {
			border-top: $gray-dark;
		}
	}

	.date-selector, .event-selector {
		float: left;
		margin: 4px 10px;
	}

	.day-grid {
		border-top: 1px solid #CCC;
		clear: both;

		.hour, .half-hour {
			border-bottom: 1px dotted #EEE;
		}

		.half-hour {
			border-bottom-style: solid;
		}

		.half-hour, .night-hour {
			background: transparent;
		}

		.event-box {
			background: #EEE;
			border: 1px solid #CCC;
		}
	}

	p {
		word-wrap: break-word;
	}
}

.portlet-column-content-only {
	.portlet-calendar .aui-column-content {
		max-width: 550px;
		padding: 10px;
	}
}

/*  Contacts Portlet  */

.contacts-portlet {
	.contacts-profile {
		border-bottom: 1px solid $gray-dark;
		margin-bottom: -1px;

		.lfr-contact-name a {
			color: $red;
		}
	}

	.toolbar {
		border-bottom-width: 0;
	}

	.lfr-app-column-view {
		border-width: 1px 0 0;
		margin-left: 1px;
	}

	.contact-group-filter .contact-group-filter-content {
		min-height: 30px;
	}

	.social-relations a {
		border: 1px solid transparent;
		color: $button-text-color;
		display: inline-block;
		font-weight: bold;
		line-height: 1em;
		padding: 6px 4px;
	}

	.contacts-action-content span {
		padding-right: 0;
	}

	.taglib-page-iterator {
		padding: 5px;
	}

	.members-container, .members-container .lfr-members-grid-item {
		margin: 0;
		padding: 10px;
	}

	.members-container {
		border: 1px solid $gray-dark;
		border-width: 1px 0;

		.lfr-members-grid-item {
			.lfr-user-data-extra, .lfr-user-data-name, .lfr-user-data-job-title {
				overflow: hidden;
				text-overflow: ellipsis;
				white-space: nowrap;
			}

			.lfr-members-thumb {
				margin: 0;
			}

			&:hover {
				background: #EEE;
			}
		}
	}

	.contacts-search {
		width: auto;
	}
}

.profile-page .contacts-portlet {
	.contacts-profile, .lfr-contact-grid-item {
		border-bottom-width: 0;
	}

	.contacts-profile .lfr-contact-grid-item {
		padding-top: 20px;
	}

	.social-relations {
		margin-left: 1px;
	}

	.lfr-app-column-view {
		.contacts-profile .lfr-contact-grid-item {
			padding-top: 10px;
		}

		.social-relations {
			margin-left: 0;
		}
	}

	.projects {
		padding: 20px 65px;

		h3 {
			color: #666;
			float: none;
			text-align: left;
			width: auto;
		}

		h3, .property-list {
			margin: 0;
		}

		h3, .project-date {
			display: inline;
		}
	}
}

.portlet-column-only .contacts-portlet .contacts-profile {
	border-bottom-width: 1px;
}

/* Documents and Images Library */

.portlet-document-library {
	border-left: 1px solid $gray-dark;

	.lfr-app-column-view {
		.results-row.alt td {
			background: transparent;
		}

		.results-row.hover td {
			background-color: #D3E8F1;
		}
	}

	.lfr-header-row {
		min-height: 33px;
	}

	.lfr-app-column-view, .lfr-app-column-view .results-row td, .portlet-msg, .portlet-msg-alert, .portlet-msg-error, .portlet-msg-info, .portlet-msg-success, .search-button-container, .search-button-container .aui-column:before, .search-button-container .aui-column-content, .search-button-container .aui-column-content-center {
		border-width: 0;
	}

	.aui-field-wrapper-content, .portlet-msg, .portlet-msg-alert, .portlet-msg-error, .portlet-msg-info, .portlet-msg-success, .search-button-container .aui-button, .search-button-container .lfr-search-combobox-item {
		margin: 0;
	}

	.document-library-breadcrumb {
		border-bottom: 1px solid $gray;
	}

	.document-container {
		min-height: 400px;
	}

	.breadcrumbs .last {
		background-image: none;
	}

	.breadcrumbs-horizontal .last {
		margin-top: 0.2em;
	}

	.aui-column-content-first, .aui-column-content-last, .search-button-container .aui-column:before, .search-button-container .aui-column-content, .search-button-container .aui-column-content-center {
		padding: 0;
	}

	.search-button-container .aui-field-input-text {
		padding: 5px 4px;
	}

	.aui-w65 {
		width: 70%;
	}

	.aui-w35 {
		width: 30%;
	}

	.lfr-header-row {
		background: #EEE;
		border-bottom: 1px solid #AAA;
	}

	.lfr-header-row-content .parent-folder-title, .portlet-document-library-display .lfr-header-row-content .parent-folder-title {
		color: $button-text-color;
		text-shadow: none;
	}

	.context-pane .context-pane-content, .portlet-document-library-display .context-pane .context-pane-content {
		border-left-width: 0;
	}

	.header-title {
		display: none;
	}

	.taglib-header {
		position: relative;
	}

	.header-back-to {
		position: absolute;
		right: 0;
		top: 0;
		z-index: 1;
	}

	.aui-fieldset-content, .lfr-dynamic-uploader {
		padding: 10px;
	}
}

.portlet-document-library, .portlet-document-library-display {
	.folder {
		margin-top: 0;
	}

	.document-info {
		background-color: #EEE;
	}

	.taglib-ratings.stars .aui-rating-content, .taglib-ratings.stars .liferay-rating-score {
		min-width: 200px;
	}

	.version-history .results-grid .lfr-actions .lfr-trigger strong {
		min-width: 16px;
	}

	.document-display-style.display-icon {
		margin: 0 0 5px 5px;
		width: 195px;
	}
}

/* Events Display Portlet */

.events-display-portlet {
	h2 {
		color: $red;
		font-size: 1em;
	}

	.today-events {
		.results-grid, .results-row td, .results-row.alt td {
			background-color: transparent;
			border-width: 0;
		}

		.results-row td, .results-row.alt td {
			border-bottom: 1px solid #EEE;
		}

		.results-row.hover td {
			background: #EEE;
		}
	}
}

/* Faceted Search */

.portlet-search {
	.portlet-topper {
		display: none;
	}

	.aui-form fieldset.aui-fieldset {
		border-bottom: 1px solid $gray-dark;
	}

	.aui-form fieldset.aui-fieldset, .lfr-token-list, .taglib-search-iterator-page-iterator-bottom {
		margin: 0;
		padding: 5px;
	}

	.aui-liferaytokenlist {
		background-color: #E9E8E8;
	}

	.menu-content, .portlet-content {
		padding: 0;
	}

	.search-layout .search-layout-content .menu .search-facet {
		padding: 10px;
	}

	.menu {
		border-right: 1px solid $gray-dark;
	}

	.results-grid {
		border-width: 0;
	}

	.result-content {
		margin: 0 -5px 0 -2px;
	}
}

/* Message Boards */

.portlet-message-boards {
	.category-current {
		font-weight: bold;
	}

	.result-data .views {
		clear: none;
		color: #777;
		float: none;
		padding: 0;
	}

	.displayStyle-question .stats {
		width: auto;
	}

	.stats {
		.status, .votes {
			display: block;
			height: auto;
			margin: 0;
			padding: 0;
			width: auto;
		}

		.count {
			display: inline;
			font-size: 1em;
		}
	}

	.category-search {
		padding: 5px;
	}

	.answer {
		background-color: #AAD049;
		margin-right: 91px;
		padding: 4px;
		position: absolute;
		right: 100%;
		text-align: right;
		top: 0;
		width: 79px;
	}

	.message-container {
		border-color: $gray;
		border-width: 0 0 1px 1px;
		margin: 0;
		padding: 0 5px;

		&.reply {
			border: 1px solid $gray;
			margin: -1px 0;
			padding: 0 5px;
		}

		.user-info {
			border-width: 0;
			padding: 0;
			width: 75px;

			.taglib-user-display {
				position: relative;
			}
		}

		.user-name {
			display: block;
			left: 100%;
			padding-left: 10px;
			position: absolute;
			text-align: left;
			text-decoration: none;
			top: 0.5em;
			white-space: nowrap;
			z-index: 1;
		}

		.user-details {
			display: none;
		}

		.thread-top {
			border-bottom-width: 0;
			padding: 1.75em 0 0;
			position: relative;

			.edit-controls {
				position: absolute;
				right: -5px;
				top: 0;
			}
		}

		.results-row {
			img {
				max-width: 100%;
			}

			td, &.alt td {
				background: transparent;
				border-width: 0;
				padding-top: 10px;
			}

			td.thread-bottom {
				padding-bottom: 10px;
				padding-top: 0;
				vertical-align: middle;
			}
		}

		.thread-bottom {
			.taglib-flags, .taglib-ratings.thumbs {
				margin-top: 1.5em;
			}
		}
	}

	.taglib-user-display {
		padding: 0;
	}

	.message-boards-panels, .results-grid {
		.lfr-actions.show-arrow.direction-left .lfr-trigger {
			padding: 0;

			strong {
				min-width: 20px;

				a {
					background-image: url(../images/arrows/08_left.png);
					background-position: 0 -4px;
					display: block;
					height: 16px;
					padding: 0;
					width: 16px;

					&:active {
						background-position: 0 -22px;
					}
				}
			}

			img, .taglib-text {
				display: none;
			}
		}
	}

	.thread-body {
		padding: 10px 0;
	}

	.edit-controls, .thread-controls {
		background: #EEE;
		border: 1px solid $gray;
		padding: 4px 5px;

		a {
			border: transparent solid 1px;
			color: #5A5A5A;
			display: inline-block;
			font-weight: bold;
			padding: 4px 5px;

			&:hover {
				text-decoration: none;
			}
		}
	}

	.thread-navigation {
		border-right: 1px solid $gray;
		padding: 0 5px;
	}

	.edit-controls {
		position: relative;
		top: -.5em;
		z-index: 2;

		li {
			margin: 0;
		}
	}
}

.portlet-message-boards, .portlet-wiki {
	border-left: 1px solid $gray-dark;

	.portlet-msg-success {
		border-width: 0 0 1px;
		margin: -10px -10px 10px;
	}

	.portlet-borderless-container .portlet-body {
		padding: 10px;
	}

	.page-search {
		margin: 0;
		padding: 5px;
	}
}

/*  Microblogs Portlet  */

.microblogs-portlet {
	.aui-tabview-list {
		margin: 1em;
	}

	.yui3-aclist-hidden {
		z-index: 4;
	}

	.autocomplete {
		background-color: transparent;
	}

	.highlighter-content {
		padding: 5px 0;
	}

	.microblogs-countdown {
		font-size: .9em;
	}
}

.user-group .microblogs-status-container {
	position: relative;
	top: -6px;

	.microblogs-entry, .portlet-msg-info {
		background-color: #FFF;
		border: 1px solid $gray-dark;
		margin: 10px;
		padding: 8px 10px;
	}

	.portlet-msg-info {
		padding-left: 30px;
	}

	.entry-bubble {
		margin-left: 0;
	}

	.thumbnail, .user-name {
		display: none;
	}

	&:after, &:before {
		border: 8px solid $gray-dark;
		border-color: transparent transparent $gray-dark;
		content: "";
		display: block;
		left: 30px;
		margin: 0;
		position: absolute;
		top: -16px;
	}

	&:after {
		border-color: transparent transparent #FFF;
		top: -15px;
	}
}

.private-page .microblogs-status-container {
	padding-bottom: 0;
}

.profile-page .microblogs-status-container {
	top: 0;

	.entry-bubble {
		margin-left: 0;
	}

	&:after, &:before {
		border-color: transparent $gray-dark transparent transparent;
		left: -5px;
		margin: -8px 0 0;
		top: 18px;
	}

	&:after {
		border-color: transparent #FFF transparent transparent;
		left: -4px;
	}
}

/*  Private Messaging  */

.private-messaging-portlet {
	margin-left: 1px;

	.controls, .portlet-msg-info, .portlet-msg-success {
		border-width: 0 0 1px;
		margin: 0;
	}

	.private-messaging-container {
		.results-grid, .results-grid table.taglib-search-iterator, .results-grid .results-row td, .results-grid .results-row.alt td, .thread .results-row {
			border-left-width: 0;
			border-right-width: 0;
			border-top-width: 0;
		}
	}

	.message-link:hover {
		background-color: #E8EFF4;
		text-decoration: none;
	}

	.user-profile-image {
		position: relative;
		z-index: 2;
	}

	.taglib-search-iterator-page-iterator-bottom {
		padding: 10px;
	}

	.messages-content {
		min-height: 400px;
	}
}

/* Recent Bloggers  */

.portlet-recent-bloggers {
	.portlet-content {
		padding: 0 1px;
	}

	.results-grid, .results-row td {
		border: 0;
	}

	.results-grid {
		.results-row td {
			padding: 5px;
		}

		.taglib-user-display {
			padding: 0;

			.user-details {
				font-size: .9em;
				line-height: 1em;
				margin-top: 0;

				div {
					display: inline;
				}
			}
		}

		.user-profile-image {
			line-height: 0;
			margin-right: 5px;

			img {
				width: 40px;
			}
		}
	}
}

/* Recent Documents */

.portlet-recent-documents {
	td {
		font-size: 11px;
	}

	.portlet-content img {
		padding: 0 5px 8px 0;
	}
}

/* RSS */

.portlet-rss {
	.feed-entry-title {
		font-size: 11px;
	}

	.feed-date, .feed-entry-content {
		font-size: 10px;
	}

	.feed-date {
		font-weight: bold;
	}
}

/* Search */

.portlet-search .entry-title {
	font-size: 1em;
}

/* SO: Sites */

.so-portlet-sites .site-list-container span {
	display: block;
}

.so-portlet-invite-members {
	border: 0px solid transparent;
}

.so-portlet-invite-members .invite-members {
	margin: 10px;
}

.invite-members {
	border-style: solid;
	border-width: 1px;
	color: #5A5A5A;
	display: inline-block;
	font-weight: bold;
	padding: 4px 5px;

	&:hover {
		text-decoration: none;
	}
}

/* Social Office Notifications */

.so-portlet-notifications {
	.results-grid {
		border-width: 0 0 0 1px;
	}

	.results-grid .results-row td, .results-grid .results-row.alt td, .results-row {
		background: transparent;
		border-width: 1px 0;
		padding: 10px;
	}

	.resuls-row .first {
		vertical-align: top;
	}

	.results-row:hover td, .results-row.alt:hover td {
		background: #EEE;
	}

	.user-notification-event-content {
		margin: -10px;
		padding: 10px;
	}

	tr.alt.selected:hover td, tr.selected, tr.selected.hover td, tr.selected:hover td {
		background-color: #0070BA;
	}
}

/* Top Links Component */

.top-links-container {
	margin: -10px -10px 0;
}

.top-links .top-links-navigation {
	background: #EEE;
	padding: 4px 8px;
	width: auto;

	.taglib-text {
		border-right-width: 0;
		padding-right: 0;
	}

	a {
		border: 1px solid transparent;
		color: $button-text-color;
		display: inline-block;
		font-weight: bold;
		line-height: 1em;
		padding: 6px 4px;

		&:hover {
			text-decoration: none;
		}
	}
}

.portlet-boundary {
	.top-links, .top-links .page-search, .top-links .top-links-navigation {
		float: none;
	}

	.top-links .top-link {
		border-right: 0;
		margin: 0;
		padding: 0;
	}
}

/*  Tasks Portlet  */

.tasks-portlet {
	.aui-tabview-list, .control-wrapper, .filter-wrapper, .list-wrapper, .tasks-options {
		margin: 1em;
	}

	.filter-wrapper {
		margin-top: -0.5em;
	}

	.tms-portlet-tasks .progress {
		background-color: #FFD8B2;
	}
}

.upcoming-tasks-portlet .tasksentries-container .tasks-title a {
	padding: 3px 0 3px 20px;

	&:hover {
		background-color: #EEE;
		text-decoration: none;
	}
}

.tasks-dialog {
	.comment-wrapper {
		border: 1px solid #EEE;

		.comment-body {
			background: #FFF;
			padding: 10px;
		}

		.comment-info {
			background: #EEE;
			padding: 5px;
		}

		.user-name {
			font-weight: bold;
		}
	}

	.control a.taglib-icon {
		border: 1px solid auto;
		color: $button-text-color;
		display: inline-block;
		font-weight: bold;
		padding: 5px;

		&:hover {
			text-decoration: none;
		}
	}
}

.ie .tasks-portlet {
	zoom: 1;
}

/* Wiki */

.portlet-wiki {
	.top-links-container .top-links-nodes {
		background-color: #FFF;
		border-width: 0 0 1px;
		float: none;
		margin: 0;
		padding: 4px;

		li {
			border-right-width: 0;
			display: inline;
			padding: 0;

			a {
				display: inline-block;
				padding: 4px 8px;

				&.node-current {
					color: $button-text-color;
				}
			}
		}
	}

	.toc {
		float: right;

		ol ol {
			margin: 0 0 0 1em;
		}
	}

	.page-actions {
		border-bottom: 1px solid $gray-light;
	}

	.createpage {
		color: $red;
	}
}

/* ---------- Fluid Layout ---------- */

body.so-layout-fluid, body.so-layout-fluid-ad {
	#banner #heading, #content, #footer {
		margin: 0 auto;
		width: auto;
	}

	#heading {
		zoom: 1;
	}

	#content {
		z-index: 1;
	}

	#heading #page-search {
		right: 80px;
	}

	#content #so-context, .site-breadcrumbs {
		border-right-width: 0;
	}

	.portlet-blogs {
		.entry {
			width: auto;
		}
	}
}


/* ---------- Extras ---------- */

.lfr-dockbar-pinned .dockbar {
	@include box-shadow(0 -10px 9px 4px black, 0 -2px 10px -6px rgba(0, 0, 0, 0.5));
}

input[type=password], input[type=text], textarea, .aui-field-select select, .aui-textboxlistentry-holder, .microblogs-portlet .autocomplete, .so-portlet-invite-members .search, .user-group .microblogs-status-container .microblogs-entry, .user-group .microblogs-status-container .portlet-msg-info {
	@include border-radius(5px);
}

input[type=password], input[type=text], textarea, .aui-field-select select, .aui-textboxlistentry-holder, .microblogs-portlet .autocomplete, .so-portlet-invite-members .search {
	@include box-shadow(0 1px 3px #C9C9C9 inset);
}

button, input[type=button], input[type=reset], input[type=submit], #toggleFluid, .aui-button-disabled input[type], .aui-button-disabled input[type]:hover, .aui-button-disabled input[type]:focus, .aui-button-disabled button, .aui-button-disabled button:focus, .aui-button-disabled button:hover, .aui-dialog-hd, .aui-form-validator-message, .aui-panel-hd, .aui-state-default, .aui-tabview-list, .aui-tab, .aui-tab-content, .contacts-portlet .social-relations a:hover, .edit-controls a, .invite-members, .lfr-actions.lfr-extended, .lfr-header-row .aui-button-input, .lfr-header-row .aui-buttonitem-content, .lfr-header-row .lfr-actions.lfr-extended, .lfr-header-row .lfr-search-combobox, .microblogs-portlet .microblogs-countdown, .portlet-document-library .select-documents, .portlet-document-library-display .select-documents, .portlet-message-boards .edit-controls, .results-header th, .tasks-dialog .control a.taglib-icon, .thread-controls a:hover, .top-links-navigation a:hover, .portlet-wiki .top-links-nodes .top-link-node a.node-current {
	@include border-radius(3px);
}

button, input[type=button], input[type=reset], input[type=submit], #toggleFluid, .aui-button-disabled input[type], .aui-button-disabled input[type]:focus, .aui-button-disabled input[type]:hover, .aui-button-disabled button, .aui-button-disabled button:hover, .aui-button-disabled button:focus, .aui-dialog-hd, .aui-panel-hd, .aui-state-default, .aui-tabview-list, .aui-tab, .aui-tab-content, .contacts-portlet .social-relations a:hover, .edit-controls a:hover, .invite-members, .lfr-actions.lfr-extended, .lfr-header-row .aui-button-input, .lfr-header-row .aui-buttonitem-content, .lfr-header-row .lfr-actions.lfr-extended, .lfr-header-row .lfr-search-combobox, .portlet-document-library .select-documents, .portlet-document-library-display .select-documents, .results-header th, .so-layout-fluid-ad #toggleFluid, .tasks-dialog .control a.taglib-icon, .thread-controls a:hover, .top-links-navigation a:hover, .portlet-wiki .top-links-nodes .top-link-node a.node-current {
	@include box-shadow(0 1px 0 #F4F3F3 inset, 0 -1px 0 #D9D8D8 inset);
}

.aui-dialog-content, .aui-underlay-content {
	@include box-shadow(0 0 9px -3px #000, 0 20px 29px -22px rgba(0, 0, 0, 0.6));
}

.user-group .microblogs-status-container .microblogs-entry, .user-group .microblogs-status-container .portlet-msg-info {
	@include box-shadow(0 3px 2px #DDD);
}

input[type=button], input[type=reset], input[type=submit], .aui-state-hover, .contacts-portlet .social-relations a:hover, .edit-controls a:hover, .invite-members:hover, .lfr-actions.lfr-extended:hover, .portlet-wiki .top-links-nodes .top-link-node a.node-current, .signed-in-as .user-name, .tasks-dialog .control a.taglib-icon:hover, .thread-controls a:hover, .top-links-navigation a:hover {
	&:active {
		@include box-shadow(0 1px 1px #C9C9C9 inset);
	}
}

.portlet-calendar .day-grid .event-box {
	@include box-shadow(0 3px 10px -6px rgba(0, 0, 0, .5));
}

.portlet-blogs .lfr-meta-actions, .user-tags li a {
	@include border-radius(4px);
}

.aui-panel-hd button, .aui-panel-hd .aui-button, .aui-panel-hd .aui-state-default, .aui-tab-content, .aui-textboxlistentry-holder .aui-field-input-text, .aui-toolbar-item, .aui-toolbar .aui-toolbar-item, .microblogs-portlet .autocomplete input[type=text], .portlet-blogs .portlet-msg-success, .portlet-document-library .portlet-msg, .portlet-document-library .portlet-msg-alert, .portlet-document-library .portlet-msg-error, .portlet-document-library .portlet-msg-info, .portlet-document-library .portlet-msg-success, .portlet-message-boards .portlet-msg-success, .private-messaging-portlet .controls, .private-messaging-portlet .portlet-msg-info, .private-messaging-portlet .portlet-msg-success, .portlet-wiki .portlet-msg-success {
	@include border-radius(0);
}

.aui-panel-hd button, .aui-panel-hd .aui-button, .aui-panel-hd .aui-state-default, .aui-tabview-list .aui-tab-active .aui-tab-content, .aui-tabview-list .aui-tab-active .aui-tab-content:hover, .aui-textboxlistentry-holder .aui-field-input-text, .microblogs-portlet .autocomplete input[type=text], .microblogs-portlet .microblogs-entry-form textarea, .portlet-document-library .search-button-container {
	@include box-shadow(none);
}

.aui-toolbar .aui-toolbar-first, .portlet-message-boards .answer {
	@include border-radius(3px 0 0 3px);
}

.aui-toolbar .aui-toolbar-last {
	@include border-radius(0 3px 3px 0);
}

.aui-dialog .yui3-widget-hd, .aui-dialog-hd, .aui-panel-hd, .aui-tabview-list, .portlet-message-boards .thread-controls {
	@include border-radius(3px 3px 0 0);
}

.so-portlet-sites-dialog .aui-button-holder {
	@include border-radius(0 0 3px 3px);
}

.aui-tabview-list {
	.aui-tab:first-child, .first, .first .aui-tab-content {
		@include border-radius(3px 0 0 0);
	}

	.last, .last .aui-tab-content {
		@include border-radius(0 3px 0 0);
	}
}